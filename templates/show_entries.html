{% extends "layout.html" %}
{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div id="columnOne">
                    <form action="{{ url_for('add_income') }}" method="post" class="add-income">
                        <dt>Add Income:
                        <dd><input type="date" name="income_date"></dd>
                        <dd><input type="text" size="30" name="add_income">
                            <select name="incomeCategory">
                                <option value="Salary">Salary</option>
                                <option value="Miscellaneous">Miscellaneous</option>
                            </select></dd>
                        <dd><input type="submit" value="Add Income">
                    </form>
                    <form action ="{{ url_for('filter_income') }}" method="post">
                        <select name="filter_income">
                            <option value="Salary">Salary</option>
                            <option value="Miscellaneous">Miscellaneous</option>
                        </select>
                        <input type="submit" value="Filter Income">
                        <!-- Created the Filter Text feature -->
                    </form>
                </div>
            </div>
            <div class="col-lg-6">
                <form action ="{{ url_for('add_expense') }}" method="post" class="add-expense">
                    <dt>Add Expense:
                    <dd><input type="date" name="expense_date"></dd>
                    <dd><input type="text" size="30" name="add_expense">
                        <select name="expenseCategory">
                            <option value="Housing">Housing</option>
                            <option value="Transportation">Transportation</option>
                            <option value="Food/Drink">Food/Drink</option>
                            <option value="Miscellaneous">Miscellaneous</option>
                        </select></dd>
                    <dd><input type="submit" value="Add Expense">
                </form>
                <form action ="{{ url_for('filter_expense') }}" method="post">
                    <select name="filter_expense">
                        <option value="Housing">Housing</option>
                        <option value="Transportation">Transportation</option>
                        <option value="Food/Drink">Food/Drink</option>
                        <option value="Miscellaneous">Miscellaneous</option>
                    </select>
                    <input type="submit" value="Filter Expense">
                    <h2>Graphs</h2>
                </form>
            </div>

        </div>
        <div id="columnTwo">
            <h2>Net Income: ${{ net }}</h2>
            <h3>Incomes</h3>
            <table id="income_table">
                <tr>
                    <th>Incomes</th>
                    <th id = "table_total_income">Total Income:</th>
                </tr>
                <ul class="incomes">
                    {% for incomeEntry in incomes %}
                        <tr>
                            <td class = "table_category">Category {{ incomeEntry.category }}</td>
                            <td class = "table_amount">Amount {{ incomeEntry.amount }}</td>
                            <td class = "table_date">Date {{ incomeEntry.income_date }}</td>
                            <td class = "table_edit"><form action ="{{ url_for('edit_income_form') }}" method="get">
                                <input type="hidden" name="edit_incomes" value="{{ incomeEntry.id }}">
                                <button type="submit"> Edit Text </button></form></td>
                            <td class = "table_delete"><form action="{{ url_for('delete_income') }}" method="post">
                                <input type="hidden" name="income-id" value="{{ incomeEntry.id }}">
                                <button type="submit" class="del-inc-button">Delete</button>
                            </form></td>
                        </tr>
                    {% else %}
                        <i>No incomes entered</i>
                    {% endfor %}
                </ul>
            </table>
            <h3>Expenses</h3>
            <table id="expense_table">
                <tr>
                    <th>Expenses</th>
                    <th id = "table_total_expenses">Total Expenses:</th>
                </tr>
                <ul class="expenses">
                    {% for expenseEntry in expenses %}
                        <tr>
                            <td class = "table_category">Category {{ expenseEntry.category }}</td>
                            <td class = "table_amount">Amount {{ expenseEntry.amount }}</td>
                            <td class = "table_date">Date {{ expenseEntry.expense_date }}</td>
                            <td class = "table_edit"><form action ="{{ url_for('edit_expense_form') }}" method="get">
                                <button type="submit" name="edit_expenses" value={{ expenseEntry.id }}> Edit Text </button>
                            </form></td></td>
                            <td class = "table_delete"><form action="{{ url_for('delete_expense') }}" method="post">
                                <input type="hidden" name="expense-id" value="{{ expenseEntry.id }}">
                                <button type="submit" class="del-exp-button">Delete</button>
                            </form></td>
                        </tr>
                        </ul>
                    {% else %}
                        <i>No expenses entered</i>
                    {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}